<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<title>Definers Edit Member details</title>

<link rel="stylesheet" href="/bootstrap/css/bootstrap.min.css">
<script src="/bootstrap/js/bootstrap.js"></script>
<script src="http://code.jquery.com/jquery-2.1.4.min.js"></script>
<link href="/font-awesome/css/fontawesome.min.css" rel="stylesheet" />
<link href="/font-awesome/css/brands.min.css" rel="stylesheet" />
<link href="/font-awesome/css/solid.min.css" rel="stylesheet" />
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>

<body style="background-color: #E1EECC;">

	<!-- header -->
	<div th:replace="fragments/header"></div>

	<div class="container">


		<br>
		<main>

			<div class="d-flex justify-content-center">
				<div class="card w-50" style="border-radius: 20px; color: black;">
					<div class="card-body">

						<h2>Edit Member Details</h2>

						<form th:action="@{/members/edit/{id}(id=${member.id})}"
							th:object="${member}" method="post">

							<div class="mb-3 col-10">
								<label for="member_name" class="form-label">Name: </label> <input
									id="member_name" type="text" class="form-control"
									th:field="*{name}" required minlength=3 maxlength=50 />

								<!-- Input Validation -->
								<div class="invalid-feedback">Please enter a valid name.</div>
								<p class="text-danger" th:if="${#fields.hasErrors('name')}"
									th:errors="*{name}"></p>
							</div>

							<div class="mb-3 col-10">
								<label for="member_username" class="form-label">Username:
								</label> <input id="member_username" type="text" class="form-control"
									th:field="*{username}" required minlength=3 maxlength=100 />

								<!-- Input Validation -->
								<div class="invalid-feedback">Please enter a valid
									username.</div>
								<p class="text-danger" th:if="${#fields.hasErrors('username')}"
									th:errors="*{username}"></p>
							</div>

							<input id="member_role" type="text" th:field="*{role}" required
								hidden />

							<div class="mb-3 col-10">
								<label for="member_password" class="form-label">Password:
								</label> <input id="member_password" type="password"
									class="form-control" th:field="*{password}" required
									minlength=3 maxlength=100 />

								<!-- Input Validation -->
								<div class="invalid-feedback">Please enter a valid
									password.</div>
								<p class="text-danger" th:if="${#fields.hasErrors('password')}"
									th:errors="*{password}"></p>
							</div>

							<div class="mb-3 col-10">
								<label for="member_email" class="form-label">Email: </label> <input
									id="member_email" type="text" class="form-control"
									th:field="*{email}" required
									pattern="^[^@\s]+@[^@\s]+\.[^@\s]+$" />

								<!-- Input Validation -->
								<div class="invalid-feedback">Please enter a valid email.</div>
								<p class="text-danger" th:if="${#fields.hasErrors('email')}"
									th:errors="*{email}"></p>
							</div>


							<div class="mt-3-5">
								<button type="submit" class="btn btn-primary">Update
									Member details</button>
							</div>

						</form>

						<!-- Form validation, use javascript to perform dynamic functions -->
						<script>
							'use strict'

							var form = document
									.querySelector('.needs-validation')

							form.addEventListener('submit', function(event) {
								if (!form.checkValidity()) {
									event.preventDefault()
									event.stopPropagation()
								}
								form.classList.add('was-validated')
							})
						</script>
						<!-- End form validation -->
					</div>
				</div>
			</div>
		</main>

		<div th:replace="fragments/footer"></div>
	</div>
</body>
</html>
